var rr=rr||{};!function(e){e.extend(rr,{pageReady:function(){var i=this;e.publish("pageReady_prioritise",i),e.publish("pageReady",i),i.pageLoaded(),i.scrolled()},pageLoaded:function(){var i=this;i.settings.$window.on("load",function(){e.publish("pageLoaded",i)})},scrolled:function(){var i=this;i.settings.$window.on("scroll",function(){e.publish("scroll",i)})},ajaxLoaded:function(){var i=this;e.publish("ajaxLoaded",i)}})}(jQuery);var rr=rr||{};!function(e){e.extend(rr,{settings:{$window:e(window),$html:e("html"),$body:e("body"),$htmlbody:e("html,body"),breakpoint_s:480,breakpoint_md:860,breakpoint_lg:1200,breakpoint_xl:1400,breakpoint_xxl:1920}})}(jQuery);var rr=rr||{};!function(e){e.extend(rr,{inView:{$items:null,itemSelector:".in-view-container",activeClass:"in-view-active",singleUseClass:"in-view-single-use",windowHeight:0,init:function(){var i=this;i.$items=e(i.itemSelector),i.$items.length<1||(i.windowHeight=rr.settings.$window.innerHeight(),i.$items.each(function(){var s=e(this);i.calculatePostion(s)}))},calculatePostion:function(e){var i=this;if(e){var s=e.outerHeight(),t=e.offset().top,r=e.data("in-view-percentage")?e.data("in-view-percentage"):50,a=t-s/2+s*r/100;inViewPos=parseInt(a,10),e.attr("data-inview-pos-top",inViewPos),i.checkScroll()}},checkScroll:function(){var i=this;if(!(i.$items.length<1)){var s=rr.settings.$window.scrollTop();i.$items.each(function(){var t=e(this);i.checkInView(t,s)})}},checkInView:function(e,i){var s=this;e.attr("data-inview-pos-top")<i+s.windowHeight&&e.addClass(s.activeClass)}}}),e.subscribe("pageReady",function(){rr.inView.init()}),e.subscribe("scroll",function(){rr.inView.checkScroll()})}(jQuery);var rr=rr||{};!function(e){e.extend(rr,{navigation:{$navigation:null,navigationSelector:".navigation",navigationItemSelector:".navigation__item",activeClass:"navigation__item--active",init:function(){var i=this;i.$navigationItems=e(i.navigationItemSelector),rr.monitorMq.currentBreakpoint>rr.settings.breakpoint_lg||i.$navigationItems.length<1||(i.$navigationItems.removeClass(i.activeClass),i.bindEvents())},bindEvents:function(){var i=this;i.$navigationItems.on("click",function(s){var t=e(this),r=!1;t.hasClass(i.activeClass)&&(r=!0),i.$navigationItems.removeClass(i.activeClass),r||t.addClass(i.activeClass)})}}}),e.subscribe("pageReady viewportResizeEnd",function(){rr.navigation.init()})}(jQuery);var rr=rr||{};!function(e){e.extend(rr,{pageReadyClass:function(){this.settings.$html.addClass("page-ready")},pageLoadedClass:function(){this.settings.$html.addClass("page-loaded")},scrollClass:function(){var e=this;e.settings.$window.scrollTop()>0?(e.settings.$html.addClass("scrolled"),e.settings.$html.addClass("has-scrolled")):e.settings.$html.removeClass("scrolled")}}),e.subscribe("pageReady",function(){rr.pageReadyClass()}),e.subscribe("pageLoaded",function(){rr.pageLoadedClass()}),e.subscribe("scroll pageReady",function(){})}(jQuery);var rr=rr||{};!function(e){e.extend(rr,{parallax:{parallaxSelector:".parallax",$parallax:null,speed:.8,windowHeight:0,init:function(){var i=this;i.$parallax=e(i.parallaxSelector),i.$parallax.length<1||(i.windowHeight=rr.settings.$window.innerHeight(),i.checkScroll())},checkScroll:function(){var i=this;if(!(i.$parallax.length<1||Modernizr.ie10||Modernizr.ie11||Modernizr.edge||Modernizr.safari)){var s=rr.settings.$window.scrollTop();i.$parallax.each(function(){var t=e(this),r=(t.outerHeight(),s*i.speed);t.css("top",r)})}}}}),e.subscribe("pageReady",function(){rr.parallax.init()}),e.subscribe("scroll",function(){rr.parallax.checkScroll()})}(jQuery);var rr=rr||{};!function(e){e.extend(rr,{scrollLock:{$fixedItems:null,$measure:null,$measureRuler:null,fixedSelectors:"body, #header, #page",measureClass:"scroll-measure",scrollClass:"scroll",scrollableSelectors:".modal, .navigation",scrollLockedClass:"scroll-locked",scrollLockedIOSClass:"scroll-locked-ios",clickSelectors:".navigation-menu__toggle__button",hasScrollbar:!1,isLocked:!1,shiftWait:null,storedScrollPos:0,init:function(){var i=this;i.$fixedItems=e(i.fixedSelectors),i.$measure=e("<div />",{class:i.measureClass}),i.$measureRuler=e("<div />"),rr.settings.$body.append(i.$measure.html(i.$measureRuler)),i.testScrollbar(),i.bindEvents()},bindEvents:function(){var e=this;rr.settings.$body.on("click",e.clickSelectors,function(i){e.isLocked?e.unlock():e.lock()})},testScrollbar:function(){var e=this,i=0,s=0;e.$measure.addClass(e.scrollClass),i=e.$measureRuler.width();var t=setTimeout(function(){i=e.$measureRuler.width(),e.$measure.removeClass(e.scrollClass);var r=setTimeout(function(){s=e.$measureRuler.width(),s>i&&(e.hasScrollbar=!0),clearTimeout(r)},30);clearTimeout(t)},30)},lock:function(){var i=this;if(!i.isLocked){i.isLocked=!0,i.storedScrollPos=rr.settings.$window.scrollTop(),i.fixWidths(!0),rr.settings.$body.on("touchmove.scrollLock",function(e){e.stopPropagation(),e.preventDefault()}),e(i.scrollableSelectors).on("touchmove.scrollLock",function(e){e.stopPropagation()});var s=setTimeout(function(){rr.settings.$html.addClass(i.scrollLockedClass),clearTimeout(s)},10),t=setTimeout(function(){Modernizr.ios&&rr.settings.$html.addClasss(i.scrollLockedIOSClass),clearTimeout(t)},100)}},unlock:function(){var e=this;if(e.isLocked){rr.settings.$html.removeClass(e.scrollLockedClass+" "+e.scrollLockedIOSClass),rr.settings.$body.off("touchmove.scrollLock");var i=setTimeout(function(){e.unfixWidths(),e.storedScrollPos=null,e.isLocked=!1,clearTimeout(i)},100)}},fixWidths:function(e){var i=this;(i.isLocked||e)&&(i.unfixWidths(),i.$fixedItems.css("width",i.$measureRuler.innerWidth()))},unfixWidths:function(){this.$fixedItems.css("width","")}}}),e.subscribe("pageReady",function(){rr.scrollLock.init()}),e.subscribe("viewportResizeEnd",function(){rr.scrollLock.fixWidths()})}(jQuery),$(function(){void 0!==rr&&rr.pageReady()});